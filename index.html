<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta data-n-head="ssr" charset="utf-8">
        <meta data-n-head="ssr" name="robots" content="noindex">
        <meta data-n-head="ssr" name="format-detection" content="telephone=no">
        <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">
        <meta data-n-head="ssr" data-hid="og:title" property="og:title" content="포켓몬스터 2022 띠부띠부씰 도감 ver 1.1">
        <meta data-n-head="ssr" data-hid="og:description" property="og:description" content="포켓몬스터 띠부띠부씰 추억을 보관하자">
        <meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://pokedoc.github.io/pokedoc/preview.PNG">
        <title>포켓몬스터 2022 띠부띠부씰 도감 ver 1.2</title>
        <style>
            .selected {background-color: rgba(0,0,0,0.7);}
            .poke01 {background:url("image/re_pokemon1.png") no-repeat; background-size: 619px 619px;}
            .poke02 {background:url("image/re_pokemon2.png") no-repeat; background-size: 619px 619px;}
            .poke03 {background:url("image/re_pokemon3.png") no-repeat; background-size: 619px 619px;}
            .poke04 {background:url("image/re_pokemon4.png") no-repeat; background-size: 619px 619px;}
            .poke05 {background:url("image/re_pokemon5.png") no-repeat; background-size: 619px 619px;}
            .poke06 {background:url("image/re_pokemon6.png") no-repeat; background-size: 619px 619px;}
            .poke07 {background:url("image/re_pokemon7.png") no-repeat; background-size: 619px 619px;}
            .poke08 {background:url("image/2nd.png") no-repeat; background-size: 1024px 1224px;}
            .image {position:relative; display:inline-block; width:84px; height:111px; margin: 1px; cursor:pointer;}
            .image > div {width:100%; height:100%; position:absolute; border: 1px solid black;}
            .img01 {background-position: -124px -34px}
            .img02 {background-position: -217px -34px;}
            .img03 {background-position: -310px -34px;}
            .img04 {background-position: -403px -34px;}
            .img05 {background-position: -496px -34px;}
            .img06 {background-position: -124px -152px;}
            .img07 {background-position: -217px -152px;}
            .img08 {background-position: -310px -152px;}
            .img09 {background-position: -403px -152px;}
            .img10 {background-position: -496px -152px;}
            .img11 {background-position: -124px -270px;}
            .img12 {background-position: -217px -270px;}
            .img13 {background-position: -310px -270px;}
            .img14 {background-position: -403px -270px;}
            .img15 {background-position: -496px -270px;}
            .img16 {background-position: -124px -389px;}
            .img17 {background-position: -217px -389px;}
            .img18 {background-position: -310px -389px;}
            .img19 {background-position: -403px -389px;}
            .img20 {background-position: -496px -389px;}
            .img21 {background-position: -124px -507px;}
            .img22 {background-position: -217px -507px;}
            .img23 {background-position: -310px -507px;}
            .img24 {background-position: -403px -507px;}
            .img25 {background-position: -496px -507px;}
            .img201 {background-position: -5px -5px}
            .img202 {background-position: -88px -5px;}
            .img203 {background-position: -171px -5px;}
            .img204 {background-position: -258px -5px;}
            .img205 {background-position: -341px -5px;}
            .img206 {background-position: -426px -5px;}
            .img207 {background-position: -507px -5px;}
            .img208 {background-position: -592px -5px;}
            .img209 {background-position: -678px -5px;}
            .img210 {background-position: -759px -5px;}
            .img211 {background-position: -845px -5px;}
            .img212 {background-position: -928px -5px;}
            .img301 {background-position: -5px -119px}
            .img302 {background-position: -88px -119px;}
            .img303 {background-position: -171px -119px;}
            .img304 {background-position: -258px -119px;}
            .img305 {background-position: -341px -119px;}
            .img306 {background-position: -426px -119px;}
            .img307 {background-position: -507px -119px;}
            .img308 {background-position: -592px -119px;}
            .img309 {background-position: -678px -119px;}
            .img310 {background-position: -759px -119px;}
            .img311 {background-position: -845px -119px;}
            .img312 {background-position: -928px -119px;}
            .img401 {background-position: -5px -231px}
            .img402 {background-position: -88px -231px;}
            .img403 {background-position: -171px -231px;}
            .img404 {background-position: -258px -231px;}
            .img405 {background-position: -341px -231px;}
            .img406 {background-position: -426px -231px;}
            .img407 {background-position: -507px -231px;}
            .img408 {background-position: -592px -231px;}
            .img409 {background-position: -678px -231px;}
            .img410 {background-position: -759px -231px;}
            .img411 {background-position: -845px -231px;}
            .img412 {background-position: -928px -231px;}
            .img501 {background-position: -5px -339px}
            .img502 {background-position: -88px -339px;}
            .img503 {background-position: -171px -339px;}
            .img504 {background-position: -258px -339px;}
            .img505 {background-position: -341px -339px;}
            .img506 {background-position: -426px -339px;}
            .img507 {background-position: -507px -339px;}
            .img508 {background-position: -592px -339px;}
            .img509 {background-position: -678px -339px;}
            .img510 {background-position: -759px -339px;}
            .img511 {background-position: -845px -339px;}
            .img512 {background-position: -928px -339px;}
            .img601 {background-position: -5px -499px}
            .img602 {background-position: -88px -499px;}
            .img603 {background-position: -171px -499px;}
            .img604 {background-position: -258px -499px;}
            .img605 {background-position: -341px -499px;}
            .img606 {background-position: -426px -499px;}
            .img607 {background-position: -507px -499px;}
            .img608 {background-position: -592px -499px;}
            .img609 {background-position: -678px -499px;}
            .img610 {background-position: -759px -499px;}
            .img611 {background-position: -845px -499px;}
            .img612 {background-position: -928px -499px;}
            .img701 {background-position: -5px -612px}
            .img702 {background-position: -88px -612px;}
            .img703 {background-position: -171px -612px;}
            .img704 {background-position: -258px -612px;}
            .img705 {background-position: -341px -612px;}
            .img706 {background-position: -426px -612px;}
            .img707 {background-position: -507px -612px;}
            .img708 {background-position: -592px -612px;}
            .img709 {background-position: -678px -612px;}
            .img710 {background-position: -759px -612px;}
            .img711 {background-position: -845px -612px;}
            .img712 {background-position: -928px -612px;}
            .img801 {background-position: -5px -720px}
            .img802 {background-position: -88px -720px;}
            .img803 {background-position: -171px -720px;}
            .img804 {background-position: -258px -720px;}
            .img805 {background-position: -341px -720px;}
            .img806 {background-position: -426px -720px;}
            .img807 {background-position: -507px -720px;}
            .img808 {background-position: -592px -720px;}
            .img809 {background-position: -678px -720px;}
            .img810 {background-position: -759px -720px;}
            .img811 {background-position: -845px -720px;}
            .img812 {background-position: -928px -720px;}
            .img901 {background-position: -5px -880px}
            .img902 {background-position: -88px -880px;}
            .img903 {background-position: -171px -880px;}
            .img904 {background-position: -258px -880px;}
            .img905 {background-position: -341px -880px;}
            .img906 {background-position: -426px -880px;}
            .img907 {background-position: -507px -880px;}
            .img908 {background-position: -592px -880px;}
            .img909 {background-position: -678px -880px;}
            .img910 {background-position: -759px -880px;}
            .img911 {background-position: -845px -880px;}
            .img912 {background-position: -928px -880px;}
            .img1001 {background-position: -5px -990px}
            .img1002 {background-position: -88px -990px;}
            .img1003 {background-position: -171px -990px;}
            .img1004 {background-position: -258px -990px;}
            .img1005 {background-position: -341px -990px;}
            .img1006 {background-position: -426px -990px;}
            .img1007 {background-position: -507px -990px;}
            .img1008 {background-position: -592px -990px;}
            .img1009 {background-position: -678px -880px;}
            .img1010 {background-position: -759px -880px;}
            .img1011 {background-position: -845px -880px;}
            .img1012 {background-position: -928px -990px;}
            .img1101 {background-position: -5px -1104px}
            .img1102 {background-position: -88px -1104px;}
            .img1103 {background-position: -171px -1104px;}
            .img1104 {background-position: -258px -1104px;}
            .img1105 {background-position: -341px -1104px;}
            .img1106 {background-position: -426px -1104px;}
            .img1107 {background-position: -507px -1104px;}
            .img1108 {background-position: -592px -1104px;}
            body {background-color: black;}
            .btnDiv {margin-top:20px;}
            .title {text-align:center; font-size:20px; margin-bottom:20px; color:white;}
            .linkStr {width:100%; max-width: 450px; margin-top:10px;}
            .linkLabel, .checkCnt {color:white; margin-bottom: 10px;}
            .textDiv {color:white; margin-top:20px;}
            .textDiv ul {list-style: decimal; padding-left:20px; margin-top:5px;}
            .textDiv ul li span {color:crimson;}
        </style>
    </head>
    <body>
        <div class="title">포켓몬스터 2022 띠부띠부씰 도감 ver 1.2</div>
        <div class="checkCnt">(<span id="cnt">0</span>/275)</div>
        <div id="imageDiv">
            <div class="image poke01 img01"><div></div></div>
            <div class="image poke01 img02"><div></div></div>
            <div class="image poke08 img201"><div></div></div>
            <div class="image poke01 img03"><div></div></div>
            <div class="image poke01 img04"><div></div></div>
            <div class="image poke08 img202"><div></div></div>
            <div class="image poke01 img05"><div></div></div>
            <div class="image poke08 img203"><div></div></div>
            <div class="image poke01 img06"><div></div></div>
            <div class="image poke01 img07"><div></div></div>
            <div class="image poke01 img08"><div></div></div>
            <div class="image poke08 img204"><div></div></div>
            <div class="image poke01 img09"><div></div></div>
            <div class="image poke08 img205"><div></div></div>
            <div class="image poke01 img10"><div></div></div>
            <div class="image poke01 img11"><div></div></div>
            <div class="image poke01 img12"><div></div></div>
            <div class="image poke08 img206"><div></div></div>
            <div class="image poke01 img13"><div></div></div>
            <div class="image poke01 img14"><div></div></div>
            <div class="image poke01 img15"><div></div></div>
            <div class="image poke01 img16"><div></div></div>
            <div class="image poke01 img17"><div></div></div>
            <div class="image poke01 img18"><div></div></div>
            <div class="image poke01 img19"><div></div></div>
            <div class="image poke01 img20"><div></div></div>
            <div class="image poke01 img21"><div></div></div>
            <div class="image poke01 img22"><div></div></div>
            <div class="image poke01 img23"><div></div></div>
            <div class="image poke01 img24"><div></div></div>
            <div class="image poke01 img25"><div></div></div>
            <div class="image poke02 img01"><div></div></div>
            <div class="image poke02 img02"><div></div></div>
            <div class="image poke02 img03"><div></div></div>
            <div class="image poke02 img04"><div></div></div>
            <div class="image poke08 img207"><div></div></div>
            <div class="image poke02 img05"><div></div></div>
            <div class="image poke02 img06"><div></div></div>
            <div class="image poke02 img07"><div></div></div>
            <div class="image poke02 img08"><div></div></div>
            <div class="image poke02 img09"><div></div></div>
            <div class="image poke02 img10"><div></div></div>
            <div class="image poke02 img11"><div></div></div>
            <div class="image poke02 img12"><div></div></div>
            <div class="image poke02 img13"><div></div></div>
            <div class="image poke02 img14"><div></div></div>
            <div class="image poke02 img15"><div></div></div>
            <div class="image poke02 img16"><div></div></div>
            <div class="image poke02 img17"><div></div></div>
            <div class="image poke02 img18"><div></div></div>
            <div class="image poke02 img19"><div></div></div>
            <div class="image poke02 img20"><div></div></div>
            <div class="image poke02 img21"><div></div></div>
            <div class="image poke02 img22"><div></div></div>
            <div class="image poke02 img23"><div></div></div>
            <div class="image poke02 img24"><div></div></div>
            <div class="image poke02 img25"><div></div></div>
            <div class="image poke03 img01"><div></div></div>
            <div class="image poke03 img02"><div></div></div>
            <div class="image poke03 img03"><div></div></div>
            <div class="image poke03 img04"><div></div></div>
            <div class="image poke03 img05"><div></div></div>
            <div class="image poke03 img06"><div></div></div>
            <div class="image poke08 img208"><div></div></div>
            <div class="image poke03 img07"><div></div></div>
            <div class="image poke03 img08"><div></div></div>
            <div class="image poke03 img09"><div></div></div>
            <div class="image poke03 img10"><div></div></div>
            <div class="image poke03 img11"><div></div></div>
            <div class="image poke03 img12"><div></div></div>
            <div class="image poke03 img13"><div></div></div>
            <div class="image poke03 img14"><div></div></div>
            <div class="image poke03 img15"><div></div></div>
            <div class="image poke03 img16"><div></div></div>
            <div class="image poke03 img17"><div></div></div>
            <div class="image poke03 img18"><div></div></div>
            <div class="image poke03 img19"><div></div></div>
            <div class="image poke03 img20"><div></div></div>
            <div class="image poke03 img21"><div></div></div>
            <div class="image poke03 img22"><div></div></div>
            <div class="image poke03 img23"><div></div></div>
            <div class="image poke03 img24"><div></div></div>
            <div class="image poke03 img25"><div></div></div>
            <div class="image poke04 img01"><div></div></div>
            <div class="image poke04 img02"><div></div></div>
            <div class="image poke04 img03"><div></div></div>
            <div class="image poke04 img04"><div></div></div>
            <div class="image poke04 img05"><div></div></div>
            <div class="image poke04 img06"><div></div></div>
            <div class="image poke04 img07"><div></div></div>
            <div class="image poke04 img08"><div></div></div>
            <div class="image poke04 img09"><div></div></div>
            <div class="image poke04 img10"><div></div></div>
            <div class="image poke04 img11"><div></div></div>
            <div class="image poke04 img12"><div></div></div>
            <div class="image poke04 img13"><div></div></div>
            <div class="image poke04 img14"><div></div></div>
            <div class="image poke04 img15"><div></div></div>
            <div class="image poke04 img16"><div></div></div>
            <div class="image poke04 img17"><div></div></div>
            <div class="image poke04 img18"><div></div></div>
            <div class="image poke04 img19"><div></div></div>
            <div class="image poke04 img20"><div></div></div>
            <div class="image poke04 img21"><div></div></div>
            <div class="image poke04 img22"><div></div></div>
            <div class="image poke04 img23"><div></div></div>
            <div class="image poke04 img24"><div></div></div>
            <div class="image poke04 img25"><div></div></div>
            <div class="image poke05 img01"><div></div></div>
            <div class="image poke05 img02"><div></div></div>
            <div class="image poke05 img03"><div></div></div>
            <div class="image poke05 img04"><div></div></div>
            <div class="image poke05 img05"><div></div></div>
            <div class="image poke05 img06"><div></div></div>
            <div class="image poke05 img07"><div></div></div>
            <div class="image poke05 img08"><div></div></div>
            <div class="image poke05 img09"><div></div></div>
            <div class="image poke05 img10"><div></div></div>
            <div class="image poke05 img11"><div></div></div>
            <div class="image poke05 img12"><div></div></div>
            <div class="image poke05 img13"><div></div></div>
            <div class="image poke05 img14"><div></div></div>
            <div class="image poke05 img15"><div></div></div>
            <div class="image poke05 img16"><div></div></div>
            <div class="image poke05 img17"><div></div></div>
            <div class="image poke05 img18"><div></div></div>
            <div class="image poke05 img19"><div></div></div>
            <div class="image poke05 img20"><div></div></div>
            <div class="image poke05 img21"><div></div></div>
            <div class="image poke05 img22"><div></div></div>
            <div class="image poke05 img23"><div></div></div>
            <div class="image poke05 img24"><div></div></div>
            <div class="image poke05 img25"><div></div></div>
            <div class="image poke06 img01"><div></div></div>
            <div class="image poke06 img02"><div></div></div>
            <div class="image poke06 img03"><div></div></div>
            <div class="image poke06 img04"><div></div></div>
            <div class="image poke06 img05"><div></div></div>
            <div class="image poke06 img06"><div></div></div>
            <div class="image poke06 img07"><div></div></div>
            <div class="image poke06 img08"><div></div></div>
            <div class="image poke06 img09"><div></div></div>
            <div class="image poke06 img10"><div></div></div>
            <div class="image poke06 img11"><div></div></div>
            <div class="image poke06 img12"><div></div></div>
            <div class="image poke06 img13"><div></div></div>
            <div class="image poke08 img209"><div></div></div>
            <div class="image poke06 img14"><div></div></div>
            <div class="image poke06 img15"><div></div></div>
            <div class="image poke06 img16"><div></div></div>
            <div class="image poke06 img17"><div></div></div>
            <div class="image poke06 img18"><div></div></div>
            <div class="image poke06 img19"><div></div></div>
            <div class="image poke06 img20"><div></div></div>
            <div class="image poke06 img21"><div></div></div>
            <div class="image poke06 img22"><div></div></div>
            <div class="image poke06 img23"><div></div></div>
            <div class="image poke06 img24"><div></div></div>
            <div class="image poke06 img25"><div></div></div>
            <div class="image poke07 img01"><div></div></div>
            <div class="image poke07 img02"><div></div></div>
            <div class="image poke07 img03"><div></div></div>
            <div class="image poke07 img04"><div></div></div>
            <div class="image poke07 img05"><div></div></div>
            <div class="image poke07 img06"><div></div></div>
            <div class="image poke07 img07"><div></div></div>
            <div class="image poke07 img08"><div></div></div>
            <div class="image poke07 img09"><div></div></div>
            <div class="image poke08 img210"><div></div></div>
            <div class="image poke08 img211"><div></div></div>
            <div class="image poke08 img212"><div></div></div>
            <div class="image poke08 img301"><div></div></div>
            <div class="image poke08 img302"><div></div></div>
            <div class="image poke08 img303"><div></div></div>
            <div class="image poke08 img304"><div></div></div>
            <div class="image poke08 img305"><div></div></div>
            <div class="image poke08 img306"><div></div></div>
            <div class="image poke08 img307"><div></div></div>
            <div class="image poke08 img308"><div></div></div>
            <div class="image poke08 img309"><div></div></div>
            <div class="image poke08 img310"><div></div></div>
            <div class="image poke08 img311"><div></div></div>
            <div class="image poke08 img312"><div></div></div>
            <div class="image poke08 img401"><div></div></div>
            <div class="image poke08 img402"><div></div></div>
            <div class="image poke08 img403"><div></div></div>
            <div class="image poke08 img404"><div></div></div>
            <div class="image poke08 img405"><div></div></div>
            <div class="image poke08 img406"><div></div></div>
            <div class="image poke08 img407"><div></div></div>
            <div class="image poke08 img408"><div></div></div>
            <div class="image poke08 img409"><div></div></div>
            <div class="image poke08 img410"><div></div></div>
            <div class="image poke08 img411"><div></div></div>
            <div class="image poke08 img412"><div></div></div>
            <div class="image poke08 img501"><div></div></div>
            <div class="image poke08 img502"><div></div></div>
            <div class="image poke08 img503"><div></div></div>
            <div class="image poke08 img504"><div></div></div>
            <div class="image poke08 img505"><div></div></div>
            <div class="image poke08 img506"><div></div></div>
            <div class="image poke08 img507"><div></div></div>
            <div class="image poke08 img508"><div></div></div>
            <div class="image poke08 img509"><div></div></div>
            <div class="image poke08 img510"><div></div></div>
            <div class="image poke08 img511"><div></div></div>
            <div class="image poke08 img512"><div></div></div>
            <div class="image poke08 img601"><div></div></div>
            <div class="image poke08 img602"><div></div></div>
            <div class="image poke08 img603"><div></div></div>
            <div class="image poke08 img604"><div></div></div>
            <div class="image poke08 img605"><div></div></div>
            <div class="image poke08 img606"><div></div></div>
            <div class="image poke08 img607"><div></div></div>
            <div class="image poke08 img608"><div></div></div>
            <div class="image poke08 img609"><div></div></div>
            <div class="image poke08 img610"><div></div></div>
            <div class="image poke08 img611"><div></div></div>
            <div class="image poke08 img612"><div></div></div>
            <div class="image poke08 img701"><div></div></div>
            <div class="image poke08 img702"><div></div></div>
            <div class="image poke08 img703"><div></div></div>
            <div class="image poke08 img704"><div></div></div>
            <div class="image poke08 img705"><div></div></div>
            <div class="image poke08 img706"><div></div></div>
            <div class="image poke08 img707"><div></div></div>
            <div class="image poke08 img708"><div></div></div>
            <div class="image poke08 img709"><div></div></div>
            <div class="image poke08 img710"><div></div></div>
            <div class="image poke08 img711"><div></div></div>
            <div class="image poke08 img712"><div></div></div>
            <div class="image poke08 img801"><div></div></div>
            <div class="image poke08 img802"><div></div></div>
            <div class="image poke08 img803"><div></div></div>
            <div class="image poke08 img804"><div></div></div>
            <div class="image poke08 img805"><div></div></div>
            <div class="image poke08 img806"><div></div></div>
            <div class="image poke08 img807"><div></div></div>
            <div class="image poke08 img808"><div></div></div>
            <div class="image poke08 img809"><div></div></div>
            <div class="image poke08 img810"><div></div></div>
            <div class="image poke08 img811"><div></div></div>
            <div class="image poke08 img812"><div></div></div>
            <div class="image poke08 img901"><div></div></div>
            <div class="image poke08 img902"><div></div></div>
            <div class="image poke08 img903"><div></div></div>
            <div class="image poke08 img904"><div></div></div>
            <div class="image poke08 img905"><div></div></div>
            <div class="image poke08 img906"><div></div></div>
            <div class="image poke08 img907"><div></div></div>
            <div class="image poke08 img908"><div></div></div>
            <div class="image poke08 img909"><div></div></div>
            <div class="image poke08 img910"><div></div></div>
            <div class="image poke08 img911"><div></div></div>
            <div class="image poke08 img912"><div></div></div>
            <div class="image poke08 img1001"><div></div></div>
            <div class="image poke08 img1002"><div></div></div>
            <div class="image poke08 img1003"><div></div></div>
            <div class="image poke08 img1004"><div></div></div>
            <div class="image poke08 img1005"><div></div></div>
            <div class="image poke08 img1006"><div></div></div>
            <div class="image poke08 img1007"><div></div></div>
            <div class="image poke08 img1008"><div></div></div>
            <div class="image poke08 img1009"><div></div></div>
            <div class="image poke08 img1010"><div></div></div>
            <div class="image poke08 img1011"><div></div></div>
            <div class="image poke08 img1012"><div></div></div>
            <div class="image poke08 img1101"><div></div></div>
            <div class="image poke08 img1102"><div></div></div>
            <div class="image poke08 img1103"><div></div></div>
            <div class="image poke08 img1104"><div></div></div>
            <div class="image poke08 img1105"><div></div></div>
            <div class="image poke08 img1106"><div></div></div>
            <div class="image poke08 img1107"><div></div></div>
            <div class="image poke08 img1108"><div></div></div>
        </div>
        <div class="btnDiv">
            <input type="button" id="reverseBtn" value="선택반전"/>
            <input type="button" id="saveBtn" value="이미지저장"/>
            <input type="button" id="linkBtn" value="링크복사" disabled/>
            <div>
                <textarea id="linkStr" class="linkStr" >https://pokedoc.github.io/pokedoc/?code=</textarea>
            </div>
        </div>
        <div class="textDiv">
            <span>※ 사용법</span>
            <ul>
                <li>포켓몬 클릭 : 포켓몬이 선택 됩니다.</li>
                <li>선택반전 : 선택한 포켓몬이 반전 됩니다.</li>
                <li>이미지저장 : 현재 선택된 상태로 이미지가 저장됩니다. <br><span>* 현재 화면의 배열대로 저장되기 때문에 창크기 조절 후 이미지 저장 하시면 원하는 배열로 저장 됩니다. (PC에서 하는것을 추천)</span></li>
                <li>링크복사 : 현재 선택된 포켓몬이 포함된 URL을 복사합니다 <br><span>* 복사한 URL로 접속시 선택한 포켓몬이 유지됩니다.</span></li>
            </ul>
        </div>
    </body>
</html>
<script src="js/html2canvas.min.js"></script>
<script>
    var url = 'https://pokedoc.github.io/pokedoc/?code=';
    var digits = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_';
    var binArray = ['000000','000001','000010','000011','000100','000101','000110','000111',
                      '001000','001001','001010','001011','001100','001101','001110','001111',
                      '010000','010001','010010','010011','010100','010101','010110','010111',
                      '011000','011001','011010','011011','011100','011101','011110','011111',
                      '100000','100001','100010','100011','100100','100101','100110','100111',
                      '101000','101001','101010','101011','101100','101101','101110','101111',
                      '110000','110001','110010','110011','110100','110101','110110','110111',
                      '111000','111001','111010','111011','111100','111101','111110','111111'];
    var query = window.location.search;
    var param = new URLSearchParams(query);
    var code = param.get('code');

    var image = document.querySelectorAll('.image > div');
    var decoded = decode(code);
    for (var i = 0 ; i < image.length; i++) {
        if(decoded && decoded[i] == '1') {
            image[i].classList.toggle("selected");
        }

        image[i].addEventListener('click', function(event){
            event.target.classList.toggle("selected");

            createLink();
        });
    }
    createLink();

    var reverseBtn = document.getElementById('reverseBtn');
    reverseBtn.addEventListener('click', function(event){
        var image = document.querySelectorAll('.image > div');

        for (var i = 0 ; i < image.length; i++) {
            image[i].classList.toggle("selected");
        }

        createLink();
    });

    var saveBtn = document.getElementById('saveBtn');
    saveBtn.addEventListener('click', function(event){
        html2canvas(document.querySelector("#imageDiv")).then(function(canvas){
            var myImage = canvas.toDataURL();
            var link = document.createElement('a');
            link.download = 'Pokedoc.png';
            link.href = myImage;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });
    });

    var linkBtn = document.getElementById('linkBtn');
    linkBtn.addEventListener('click', function(event){
        var content = document.getElementById('linkStr');
    
        content.select();
        document.execCommand('copy');
        content.setSelectionRange(0, 0);

        alert("링크가 복사되었습니다!");
    });
    
    function createLink() {
        var image = document.querySelectorAll('.image > div');
        var codeStr = '';
        var cnt = 0;

        for (var i = 0 ; i < image.length; i++) {
            codeStr += (image[i].classList.contains('selected')?'1':'0');
            
            if(image[i].classList.contains('selected')) {
                cnt++;
            }
        }
        var linkStr = document.getElementById('linkStr');
        linkStr.value = url + encode(codeStr + '0');

        var cntStr = document.getElementById('cnt');
        cntStr.innerHTML = cnt;
    }

    function decode(code) {
        if(code) {
            var decodedCode = '';
            for(var i = 0; i < code.length; i++) {
                decodedCode += binArray[digits.indexOf(code[i])];
            }
            return decodedCode;
        }
        return code;
    }

    function encode(code) {
        var encodedCode = '';
        for(var i = 0; i < (parseInt(code.length/6)); i++) {
            encodedCode += digits.charAt(parseInt(code.substr(i*6,6),2));
        }
        return encodedCode;
    }
</script>
